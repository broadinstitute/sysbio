(function(e){function t(t){for(var r,s,o=t[0],i=t[1],l=t[2],d=0,u=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&u.push(n[s][0]),n[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);c&&c(t);while(u.length)u.shift()();return a.push.apply(a,l||[]),_()}function _(){for(var e,t=0;t<a.length;t++){for(var _=a[t],r=!0,o=1;o<_.length;o++){var i=_[o];0!==n[i]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=_[0]))}return e}var r={},n={expression:0},a=[];function s(t){if(r[t])return r[t].exports;var _=r[t]={i:t,l:!1,exports:{}};return e[t].call(_.exports,_,_.exports,s),_.l=!0,_.exports}s.m=e,s.c=r,s.d=function(e,t,_){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:_})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var _=Object.create(null);if(s.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(_,r,function(t){return e[t]}.bind(null,r));return _},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=i;a.push([3,"chunk-vendors","chunk-common"]),_()})({"024c":function(e,t,_){"use strict";_("b1d4")},"0877":function(e,t,_){"use strict";_("6ab2")},3:function(e,t,_){e.exports=_("7bc8")},"36f3":function(e,t,_){"use strict";_("74d1")},"493e":function(e,t,_){"use strict";var r,n=_("2b0e"),a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"tooltip",staticClass:"mouse-tooltip"})},s=[],o=n["default"].component("research-mouse-tooltip",{props:{},data:function(){return{tt:null,content:null,mousePos:{x:0,y:0},showing:!1}},watch:{},mounted:function(){this.tt=this.$refs.tooltip},created:function(){},beforeDestroy:function(){},methods:{showTooltip:function(e){this.content=e,this.tt.innerHTML=this.content,this.positionToolip(),this.tt.classList.add("show")},positionToolip:function(){var e=this.tt,t=e.offsetWidth,_=e.offsetHeight,r=window.innerWidth,n=window.innerHeight,a=this.mousePos.y-10,s=this.mousePos.x+10;s+t>r&&(s=this.mousePos.x-t-10),a+_>n&&(a=n-_-10),a<0&&(a=10),e.style.top="".concat(a,"px"),e.style.left="".concat(s,"px"),this.showing=!0},hideTooltip:function(){this.tt.classList.remove("show"),this.tt.style.top="-10000px",this.tt.style.left="-10000px",this.showing=!1},updateMousePosition:function(e,t){this.mousePos={x:e,y:t},this.showing&&this.positionToolip()}}}),i=o,l=(_("8b0f"),_("2877")),c=Object(l["a"])(i,a,s,!1,null,"21315d24",null),d=c.exports,u=!1;function p(){if(!r){var e=n["default"].extend(d);r=new e,r.$mount(document.createElement("div")),document.body.appendChild(r.$el)}}function h(e){r&&r.updateMousePosition(e.clientX,e.clientY)}t["a"]={show:function(e){p(),r.showTooltip(e),u||(document.addEventListener("mousemove",h),u=!0)},hide:function(){r&&r.hideTooltip(),u&&(document.removeEventListener("mousemove",h),u=!1)}}},5628:function(e,t,_){},"6ab2":function(e,t,_){},"74d1":function(e,t,_){},"7bc8":function(e,t,_){"use strict";_.r(t);var r=_("c7eb"),n=_("1da1"),a=_("2909"),s=(_("e260"),_("e6cf"),_("cca6"),_("a79d"),_("99af"),_("4de4"),_("c740"),_("4e82"),_("e9f5"),_("910d"),_("b680"),_("d3b7"),_("2b0e")),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sysbio f-layout"},[t("sysbio-header"),t("div",{staticClass:"sysbio-body"},[e.$parent.pageInfo?t("div",{staticStyle:{margin:"0 0 40px"}},[t("h2",[e._v(e._s(e.$parent.pageInfo.title))]),t("div",{domProps:{innerHTML:e._s(e.$parent.pageInfo.body)}})]):e._e(),t("h4",[e._v("Differential gene expression across AMP programs")]),e.$parent.deData?t("div",{staticClass:"f-row",staticStyle:{gap:"50px",margin:"10px 0 0"}},[t("div",{staticClass:"f-col",staticStyle:{gap:"10px"}},[t("div",{staticClass:"f-row fill-width spread-out align-v-bottom"},[t("div",{staticClass:"f-row",staticStyle:{gap:"20px"}},[t("div",{staticClass:"f-col"},[t("div",{staticClass:"bold"},[e._v("Find Gene")]),t("gene-selectpicker",{staticClass:"search",on:{onGeneChange:function(t){return e.$parent.highlight(t)}}})],1),t("div",{staticClass:"f-col"},[t("div",{staticClass:"bold"},[e._v("-log10(P) threshold")]),t("div",{staticClass:"f-row",staticStyle:{gap:"5px",height:"26px"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.pValThreshold,expression:"$parent.pValThreshold"}],attrs:{type:"range",min:e.$parent.pValMin,max:e.$parent.pValMax,step:"0.1"},domProps:{value:e.$parent.pValThreshold},on:{__r:function(t){return e.$set(e.$parent,"pValThreshold",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.pValThreshold,expression:"$parent.pValThreshold"}],staticClass:"slider-input",attrs:{type:"text"},domProps:{value:e.$parent.pValThreshold},on:{input:function(t){t.target.composing||e.$set(e.$parent,"pValThreshold",t.target.value)}}})])])]),t("div",{staticClass:"f-row",staticStyle:{gap:"10px"}},[t("download-chart",{staticClass:"download",staticStyle:{width:"125px","align-self":"flex-end"},attrs:{chartId:"vector_volcano_plot__bulk"}})],1)]),e.$parent.deData?t("bulk-volcano-plot",{attrs:{renderData:e.$parent.deData,renderConfig:e.$parent.bulkVolcanoConfig,margin:e.$parent.margin,sectionId:"_bulk",selectedGene:e.$parent.highlightGene},on:{highlight:function(t){return e.$parent.highlight(t)}}}):e._e()],1),t("div",{staticClass:"f-col",staticStyle:{flex:"1",gap:"10px"}},[t("div",{staticClass:"f-row fill-width spread-out align-v-bottom"},[t("div",{staticClass:"f-col"},[t("div",{staticClass:"bold"},[e._v("Filter Genes:")]),t("div",{staticClass:"f-row",staticStyle:{gap:"10px"}},[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.showGenes,expression:"$parent.showGenes"}],attrs:{type:"radio",name:"radio-group",value:"",checked:""},domProps:{checked:e._q(e.$parent.showGenes,"")},on:{change:function(t){return e.$set(e.$parent,"showGenes","")}}}),e._v("All Genes")]),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.showGenes,expression:"$parent.showGenes"}],attrs:{type:"radio",name:"radio-group"},domProps:{value:e.$parent.down,checked:e._q(e.$parent.showGenes,e.$parent.down)},on:{change:function(t){return e.$set(e.$parent,"showGenes",e.$parent.down)}}}),e._v("Downregulated")]),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.$parent.showGenes,expression:"$parent.showGenes"}],attrs:{type:"radio",name:"radio-group"},domProps:{value:e.$parent.up,checked:e._q(e.$parent.showGenes,e.$parent.up)},on:{change:function(t){return e.$set(e.$parent,"showGenes",e.$parent.up)}}}),e._v("Upregulated")])])]),t("div",{staticClass:"f-row align-v-center",staticStyle:{gap:"10px"}},[t("data-download",{staticClass:"download",staticStyle:{width:"125px","align-self":"flex-end"},attrs:{data:e.$parent.tableData,filename:"sysbio_dge"}})],1)]),t("div",{staticStyle:{"align-self":"flex-end"}},[e._v("rows: "+e._s(e.$parent.tableData.length.toLocaleString()))]),t("b-table",{attrs:{small:"",hover:"",responsive:"sm",items:e.$parent.tableData,fields:e.$parent.deTableFields,sortBy:e.$parent.currentSort.sortBy,sortDesc:e.$parent.currentSort.sortDesc,"sort-icon-left":!0,"per-page":10,"current-page":e.$parent.dePage,"tbody-tr-class":e.$parent.rowClasses},on:{filtered:e.$parent.onFiltered,"sort-changed":e.$parent.onSortChanged},scopedSlots:e._u([{key:"cell(GENE)",fn:function(_){return[t("span",{staticClass:"clickable-cell",on:{click:function(t){return e.$parent.highlight(_.value)}}},[e._v(" "+e._s(_.value)+" ")])]}}],null,!1,4155560149)}),t("div",{staticClass:"f-row fill-width align-v-center align-h-center"},[t("b-pagination",{staticClass:"pagination-sm justify-content-center",staticStyle:{"justify-self":"center",margin:"0 !important"},attrs:{"total-rows":e.$parent.rows,"per-page":10},model:{value:e.$parent.dePage,callback:function(t){e.$set(e.$parent,"dePage",t)},expression:"$parent.dePage"}})],1)],1)]):e._e()]),t("sysbio-footer")],1)},i=[],l={},c=l,d=(_("024c"),_("2877")),u=Object(d["a"])(c,o,i,!1,null,"b2108114",null),p=u.exports,h=(_("695d"),_("8f59"),_("b7c5")),f=_("5698"),g=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e._m(0),t("div",{class:"vector-wrapper-"+e.canvasId,attrs:{id:"vector_wrapper_"+e.sectionId}})])},m=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"legends",staticStyle:{display:"flex",gap:"5px"}},[t("div",{staticClass:"legend",staticStyle:{display:"inline-block"}},[t("div",{staticStyle:{display:"flex","margin-top":"10px","align-items":"center"}},[t("span",{staticClass:"group-legend-box",staticStyle:{"background-color":"#000000"}},[e._v(" ")]),t("span",{staticClass:"group-legend-name"},[e._v("Not significant")]),t("span",{staticClass:"group-legend-box",staticStyle:{"background-color":"#12bdfe"}},[e._v(" ")]),t("span",{staticClass:"group-legend-name"},[e._v("Down regulated")]),t("span",{staticClass:"group-legend-box",staticStyle:{"background-color":"#ff00c7"}},[e._v(" ")]),t("span",{staticClass:"group-legend-name"},[e._v("Up regulated")])])])])}],E=_("f3f2"),v=E["a"],b=(_("36f3"),Object(d["a"])(v,g,m,!1,null,"6e59dde7",null)),w=b.exports,P=_("ae39"),D=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("b-dropdown",{staticClass:"download-chart",attrs:{variant:"secondary",right:"",size:"sm",text:"Download chart"}},[t("b-dropdown-text",[e._v("Save chart as")]),t("b-dropdown-divider"),t("b-dropdown-item",{on:{click:function(t){return e.downloadSvg()}}},[e._v("SVG")]),t("b-dropdown-item",{on:{click:function(t){return e.downloadPng()}}},[e._v("PNG")])],1)},O=[],M=(_("3ca3"),_("ddb0"),_("2b3d"),_("bf19"),_("9861"),_("88a7"),_("271a"),_("5494"),_("a282")),y=s["default"].component("DownloadChart",{props:{chartId:{type:String,required:!0},filename:{type:String,default:"chart"},transparentPng:{type:Boolean,default:!0}},data:function(){return{}},computed:{isCanvas:function(){return null!==document.querySelector("canvas#".concat(this.chartId))}},methods:{svgUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e||(e=this.chartId);var t=(new XMLSerializer).serializeToString(f["h"]("svg#".concat(e)).node()),_=new Blob([t],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(_)},downloadSvg:function(){this.isCanvas?this.downloadCanvasToSvg():M["a"].downloadChart(this.svgUrl(),"".concat(this.filename,".svg"))},downloadPng:function(){if(this.isCanvas)this.downloadCanvasToPng();else{var e=new Image;e.src=this.svgUrl();var t="".concat(this.filename,".png"),_=this.transparentPng;e.onload=function(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height;var r=e.getContext("2d");_||(r.fillStyle="white",r.fillRect(0,0,e.width,e.height)),r.drawImage(this,0,0);var n=e.toDataURL("image/png");M["a"].downloadChart(n,t)}}},downloadCanvasToPng:function(){var e=document.querySelector("canvas#".concat(this.chartId)),t=e.toDataURL("image/png");M["a"].downloadChart(t,"".concat(this.filename,".png"))},downloadCanvasToSvg:function(){var e=document.querySelector("canvas#".concat(this.chartId)),t=e.toDataURL("image/png"),_=e.height,r=e.width,n='<image height="'.concat(_,'" width="').concat(r,'" y="0" x="0" xlink:href="').concat(t,'" id="importedCanvas_0"/>'),a='<svg xmlns:xlink="http://www.w3.org/1999/xlink" height="'.concat(_,'" width="').concat(r,'" xmlns="http://www.w3.org/2000/svg" id="new-svg">').concat(n,"</svg>"),s=document.createElement("div");s.innerHTML=a,s.hidden=!0,document.body.appendChild(s),M["a"].downloadChart(this.svgUrl("new-svg"),"".concat(this.filename,".svg")),document.body.removeChild(s)}}}),C=y,x=(_("0877"),Object(d["a"])(C,D,O,!1,null,null,null)),j=x.exports,T=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("b-dropdown",{attrs:{variant:"secondary",right:"",size:"sm",text:"Download data"}},[t("b-dropdown-text",[e._v("Save file as")]),t("b-dropdown-divider"),t("b-dropdown-item",{on:{click:function(t){return e.downloadCsv()}}},[e._v("CSV")]),t("b-dropdown-item",{on:{click:function(t){return e.downloadTsv()}}},[e._v("TSV")]),t("b-dropdown-item",{on:{click:function(t){return e.downloadJson()}}},[e._v("JSON")])],1)},k=[],I=(_("d81d"),_("ab43"),_("1149")),A=_.n(I),L=s["default"].component("DataDownload",{props:{data:{type:Array,required:!0},filename:{type:String,required:!1,default:"data"},flatten:{type:Boolean,default:!1}},data:function(){return{}},methods:{downloadCsv:function(){if(this.flatten&&this.data){var e=this.flattenCsv(this.data,this.flatten);M["a"].convertJson2Csv(e,this.filename)}else M["a"].convertJson2Csv(this.data,this.filename)},
//! Don't flatten unless necessary;
flattenCsv:function(e,t){return e.map((function(e){return e[t]=A()(e[t]),e}))},downloadJson:function(){M["a"].saveJson(this.data,this.filename)},downloadTsv:function(){M["a"].convertJson2Tsv(this.data,this.filename)}}}),R=L,B=Object(d["a"])(R,T,k,!1,null,null,null),U=B.exports,W=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("autocomplete",{ref:"geneSelect",attrs:{placeholder:e.$store.state.geneToQuery?e.$store.state.geneToQuery:"Search gene",matches:e.matchingGenes},on:{"input-change":function(t){return e.lookupGenes(t)},"item-select":function(t){return e.selectGene(t)}}})},K=[],q=_("5f5b"),S=_("b1e0"),$=_("d726"),G=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("vue-typeahead-bootstrap",{ref:"autocomplete",attrs:{data:e.lookupOptions,disabled:e.disabled,placeholder:e.placeholder,serializer:e.labelFormatter,showOnFocus:!0,maxMatches:1e3},on:{hit:function(t){return e.onAutoCompleteItemSelected(t)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onUserEnterNonAutoCompleteItem.apply(null,arguments)}},scopedSlots:e._u([{key:"suggestion",fn:function(_){var r=_.data,n=_.htmlText;return[t("span",{domProps:{innerHTML:e._s(n)}}),e._v("  "),e.secondaryKey?t("small",{staticClass:"text-secondary"},[e._v(e._s(r[e.secondaryKey]))]):e._e()]}}]),model:{value:e.userInput,callback:function(t){e.userInput=t},expression:"userInput"}})},V=[],F=_("2ef0");_("f9e3"),_("2dd8");s["default"].use(q["a"]),s["default"].use(S["b"]),s["default"].component("vue-typeahead-bootstrap",$["a"]);var z=s["default"].component("autocomplete",{props:{matches:Array,placeholder:String,secondaryKey:String,labelFormatter:{type:Function,default:function(e){return e}},disabled:Boolean},data:function(){return{userInput:this.initialText||"",selectedItem:""}},computed:{lookupOptions:function(){return this.matches?this.matches:[]}},methods:{tap:function(){},formatHTML:function(e){return this.labelFormatter(Object(F["cloneDeep"])(e))},serializer:function(e){return this.matchkey?this.matchkey:e},onAutoCompleteItemSelected:function(e){this.$emit("item-select",e),this.userInput="",this.$refs.autocomplete.inputValue=""},onUserEnterNonAutoCompleteItem:function(){this.$emit("keyup-enter",this.userInput),this.userInput="",this.$refs.autocomplete.inputValue=""}},watch:{userInput:function(e){this.$emit("input-change",e)}}}),N=z,H=Object(d["a"])(N,G,V,!1,null,null,null),J=H.exports,X=_("e60d"),Q=(_("ac1f"),_("466d"),_("5319"),_("498a"),/^(?:chr)?(1\d?|2[0-2]?|[3-9]|x|y|xy|mt?)[:_](\d+)(?:([+/-])(\d+))?$/i);function Y(e){return Z.apply(this,arguments)}function Z(){return Z=Object(n["a"])(Object(r["a"])().mark((function e(t){var _,n,a,s,o,i,l,c,d,u=arguments;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(_=!(u.length>1&&void 0!==u[1])||u[1],n=u.length>2&&void 0!==u[2]?u[2]:0,a=t.trim().replace(/,/g,"").match(Q),!a){e.next=21;break}if(s=a[1],o=parseInt(a[2]),i=o+1,!a[3]){e.next=19;break}l=parseInt(a[4]),e.t0=a[3],e.next="-"===e.t0?12:"+"===e.t0?14:"/"===e.t0?16:19;break;case 12:return i=Math.max(l,o),e.abrupt("break",19);case 14:return i=o+l,e.abrupt("break",19);case 16:return i=o+l,o-=l,e.abrupt("break",19);case 19:return i-o<n&&(c=n-(i-o),o-=Math.floor(c/2),i+=Math.ceil(c/2)),e.abrupt("return",{chr:s,start:o,end:i});case 21:if(!_){e.next=26;break}return e.next=24,fetch("".concat(X["a"],"/api/bio/query/gene?q=").concat(t)).then((function(e){return e.json()})).then((function(e){return 0==e.count?null:{chr:e.data[0].chromosome,start:Math.max(e.data[0].start-n,0),end:e.data[0].end+n,gene:t}}));case 24:return d=e.sent,e.abrupt("return",d);case 26:return e.abrupt("return",null);case 27:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return te=Object(n["a"])(Object(r["a"])().mark((function e(t){var _;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(X["a"],"/api/bio/query/gene?q=").concat(t)).then((function(e){return e.json()})).then((function(e){return 0==e.count?null:e.data[0].symbol}));case 2:return _=e.sent,e.abrupt("return",_);case 4:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}var _e={parseRegion:Y,geneSymbol:ee};s["default"].use(q["a"]),s["default"].use(S["b"]),s["default"].component("vue-typeahead-bootstrap",$["a"]),s["default"].component("autocomplete",J);var re=s["default"].component("gene-selectpicker",{props:[],data:function(){return{matchingGenes:[]}},computed:{},methods:{setFocus:function(){var e=this;this.$nextTick((function(){e.$refs.geneSelect.$refs.input.focus()}))},lookupGenes:function(e){var t=this;return Object(n["a"])(Object(r["a"])().mark((function _(){var n;return Object(r["a"])().wrap((function(_){while(1)switch(_.prev=_.next){case 0:if(!e){_.next=5;break}return _.next=3,Object(X["b"])("gene",e,{limit:10});case 3:n=_.sent,t.matchingGenes=n;case 5:case"end":return _.stop()}}),_)})))()},selectGene:function(e){var t=this;return Object(n["a"])(Object(r["a"])().mark((function _(){var n;return Object(r["a"])().wrap((function(_){while(1)switch(_.prev=_.next){case 0:return _.next=2,_e.geneSymbol(e);case 2:n=_.sent,n&&(t.$store.state.geneToQuery=n,t.$emit("onGeneChange",n));case 4:case"end":return _.stop()}}),_)})))()}}}),ne=re,ae=Object(d["a"])(ne,W,K,!1,null,null,null),se=ae.exports,oe=_("e140"),ie=_("529c"),le=_("fd66");new s["default"]({mixins:[h["a"]],components:{BulkVolcanoPlot:w,DataDownload:U,DownloadChart:j,GeneSelectPicker:se},data:function(){return{pageInfo:null,deData:null,dePage:1,highlightGene:null,pValMin:0,pValMax:1,pValThreshold:5.8,bulkVolcanoConfig:{type:"volcano plot",label:"This is a Test",legend:"This is a Test","render by":"GENE","x axis field":"BETA","x axis label":"standardized beta","y axis field":"neg_log10_p","y axis label":"-log10(p-value)",width:600,height:400,"x condition":{combination:"or","greater than":.001,"lower than":-.001},"y condition":{combination:"greater than","greater than":5.8},"dot label score":2},margin:{top:10,bottom:60,left:60,right:10,bump:0,middleSpacing:0,legendSpacing:35},deTableFields:[{key:"GENE",label:"Gene",sortable:!0},{key:"BETA",label:"Standardized beta",sortable:!0,tdClass:"",formatter:function(e){return e.toFixed(2)}},{key:"neg_log10_p",label:"-log10(P)",sortable:!0,tdClass:"",formatter:function(e){return e.toFixed(2)}},{key:"P",label:"P-value",sortable:!0,tdClass:"",formatter:function(e){return ie["a"].pValueFormatter(e)}}],filteredRows:[],showGenes:"",up:"upregulated",down:"downregulated",currentSort:{sortBy:"P",sortDesc:!1}}},watch:{pValThreshold:function(){this.bulkVolcanoConfig["y condition"]["greater than"]=this.pValThreshold}},computed:{rows:function(){return this.tableData.length||0},tableData:function(){var e=this,t=Object(a["a"])(this.deData);return this.filter&&(t=t.filter(this.filter)),this.showGenes&&(t=t.filter((function(t){return e.showRegulation(t)===e.showGenes}))),t}},mounted:function(){},created:function(){this.fetchData(),this.fetchInfo()},methods:{fetchData:function(){var e=this;return Object(n["a"])(Object(r["a"])().mark((function t(){var _,n,a;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return _="https://bioindex-dev.hugeamp.org/api/raw/file/sysbio/volcano.csv.gz",t.next=3,fetch(_);case 3:return n=t.sent,t.next=6,n.text();case 6:a=t.sent,e.deData=P["a"].csv2Json(a),e.pValMin=f["e"](e.deData,(function(e){return e.neg_log10_p})),e.pValMax=f["d"](e.deData,(function(e){return e.neg_log10_p})),e.pValThreshold=5.8,le["a"].gene&&(e.highlightGene=le["a"].gene),e.onFiltered(e.deData),e.onSortChanged(e.currentSort);case 14:case"end":return t.stop()}}),t)})))()},fetchInfo:function(){var e=this;return Object(n["a"])(Object(r["a"])().mark((function t(){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(oe["a"])("sysbiofairplex_geneexpressionbrowser",!0);case 2:e.pageInfo=t.sent;case 3:case"end":return t.stop()}}),t)})))()},onFiltered:function(e){this.filteredRows=e},onSortChanged:function(e){var t=this;this.currentSort=e,this.filteredRows.sort((function(e,_){if(!t.currentSort.sortBy)return 0;var r=t.currentSort.sortBy,n=t.currentSort.sortDesc?-1:1;return e[r]>_[r]?n:e[r]<_[r]?-n:0}))},goToHighlightedRow:function(e){var t=this;if(this.highlightGene&&this.filteredRows){var _=this.filteredRows.findIndex((function(e){return e.GENE===t.highlightGene}));if(-1!==_){var r=Math.floor(_/10)+1;this.dePage=r}}},highlight:function(e){var t=this;return Object(n["a"])(Object(r["a"])().mark((function _(){return Object(r["a"])().wrap((function(_){while(1)switch(_.prev=_.next){case 0:t.highlightGene=e,t.goToHighlightedRow(e),le["a"].set({gene:e});case 3:case"end":return _.stop()}}),_)})))()},rowClasses:function(e){var t=this.isHighlightedGene(e).concat(this.showRegulation(e));return t},isHighlightedGene:function(e){return e.GENE===this.highlightGene?"row-highlight ":""},showRegulation:function(e){return e[this.bulkVolcanoConfig["y axis field"]]<this.bulkVolcanoConfig["y condition"]["greater than"]?"":e[this.bulkVolcanoConfig["x axis field"]]<=this.bulkVolcanoConfig["x condition"]["lower than"]?this.down:e[this.bulkVolcanoConfig["x axis field"]]>=this.bulkVolcanoConfig["x condition"]["greater than"]?this.up:""}},render:function(e,t){return e(p)}}).$mount("#app")},"8b0f":function(e,t,_){"use strict";_("5628")},b1d4:function(e,t,_){},f3f2:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_runner_work_dig_dug_portal_dig_dug_portal_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2909"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("14d9"),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("13d5"),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("e9f5"),core_js_modules_es_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_iterator_filter_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("910d"),core_js_modules_es_iterator_filter_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_iterator_filter_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_iterator_map_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("ab43"),core_js_modules_es_iterator_map_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_iterator_map_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("9485"),core_js_modules_es_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("4ec9"),core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_map_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("4d63"),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("c607"),core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("2c3e"),core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("6062"),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("1e70"),core_js_modules_es_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("79a4"),core_js_modules_es_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("c1a1"),core_js_modules_es_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("8b00"),core_js_modules_es_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("a4e7"),core_js_modules_es_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_es_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("1e5a"),core_js_modules_es_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_24__),core_js_modules_es_set_union_v2_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("72c3"),core_js_modules_es_set_union_v2_js__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(core_js_modules_es_set_union_v2_js__WEBPACK_IMPORTED_MODULE_25__),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("3ca3"),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_26__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_27__),core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("5b81"),core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_28__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_29__),vue__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("2b0e"),d3__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("5698"),lodash__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("2ef0"),lodash__WEBPACK_IMPORTED_MODULE_32___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_32__),bootstrap_vue__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("b1e0"),_utils_formatters__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("529c"),_components_researchPortal_singleCellBrowser_mouseTooltip_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("493e");vue__WEBPACK_IMPORTED_MODULE_30__["default"].use(bootstrap_vue__WEBPACK_IMPORTED_MODULE_33__["a"]),__webpack_exports__["a"]=vue__WEBPACK_IMPORTED_MODULE_30__["default"].component("bulk-volcano-plot",{props:["renderData","renderConfig","margin","sectionId","selectedGene","filter"],data:function(){return{tooltip:null,chart:null,chartWidth:0,fontSize:"12px",svg:null,x:null,y:null,yAxisField:null,xAxisField:null,geneMap:null}},modules:{},components:{},created:function(){},mounted:function(){this.chart=document.getElementById("vector_wrapper_".concat(this.sectionId)),this.chartWidth=this.renderConfig.width||this.chart.clientWidth,this.geneMap=new Map(this.plotData.map((function(e){return[e.GENE,e]}))),this.renderPlot(),this.selectedGene&&this.highlightDot(this.selectedGene)},computed:{canvasId:function(){var e=this.sectionId.replaceAll("_","-").toLowerCase();return e},plotData:function(){return this.filter?this.renderData.filter(this.filter):this.renderData}},watch:{plotData:function(e,t){e!==t&&this.renderPlot()},selectedGene:function(e,t){this.highlightDot(e)},renderConfig:{handler:function(e,t){this.renderPlot()},deep:!0}},methods:{tpmFormatter:_utils_formatters__WEBPACK_IMPORTED_MODULE_34__["a"].tpmFormatter,renderPlot:function renderPlot(){var _this=this,wrapperClass=".vector-wrapper-".concat(this.canvasId),wrapperId="vector_wrapper_".concat(this.sectionId);d3__WEBPACK_IMPORTED_MODULE_31__["h"](wrapperClass).selectAll("svg").remove(),d3__WEBPACK_IMPORTED_MODULE_31__["h"](wrapperClass).selectAll("g").remove(),d3__WEBPACK_IMPORTED_MODULE_31__["h"](wrapperClass).selectAll("div").remove();var renderConfig=this.renderConfig,calculateCondition=function calculateCondition(EXP,LENGTH){var calcString="";EXP.map((function(e){var t=["+","-","*","/","(",")"].includes(e)||"number"===typeof e?e:"string"===typeof e?"data length"==e?LENGTH:e:null;calcString+=t}));var threshold=eval(calcString);return threshold},conditions=[["x condition","lower than"],["x condition","greater than"],["y condition","lower than"],["y condition","greater than"]];conditions.map((function(e){if(renderConfig[e[0]][e[1]]&&"calculate"==renderConfig[e[0]][e[1]]){var t=renderConfig[e[0]]["condition calculate"][e[1]];renderConfig[e[0]][e[1]]=calculateCondition(t,_this.plotData.length)}}));var margin=this.margin,width=this.chartWidth-margin.left-margin.right-margin.middleSpacing,height=this.renderConfig["height"]-margin.top-margin.bottom;this.tooltip=d3__WEBPACK_IMPORTED_MODULE_31__["h"](wrapperClass).append("div").style("opacity",0).attr("class","tooltip").style("background-color","white").style("border","2px solid gray").style("padding","5px").style("border-radius","5px").style("font-size","smaller"),this.svg=d3__WEBPACK_IMPORTED_MODULE_31__["h"](wrapperClass).append("svg").attr("id","vector_volcano_plot_"+this.sectionId).attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom),this.yAxisField=this.renderConfig["y axis field"],this.xAxisField=this.renderConfig["x axis field"];var renderField=this.renderConfig["render by"],sumstat=[];this.plotData.map((function(e){var t={key:e[renderField],value:{}};t.value["x"]=e[_this.xAxisField],t.value["y"]=e[_this.yAxisField],sumstat.push(t)})),this.svg.append("text").attr("text-anchor","middle").attr("x",margin.left+width/2).attr("y",height+margin.bottom+margin.top-14).style("font-family","Arial").style("font-size",14).text(this.renderConfig["x axis label"]),this.svg.append("text").attr("text-anchor","middle").attr("x",-(margin.top+height/2)).attr("y",14).attr("transform","rotate(-90)").style("font-family","Arial").style("font-size",14).text(this.renderConfig["y axis label"]);var xVals=Object(_home_runner_work_dig_dug_portal_dig_dug_portal_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__["a"])(new Set(sumstat.map((function(e){return e.value.x})))),yVals=Object(_home_runner_work_dig_dug_portal_dig_dug_portal_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__["a"])(new Set(sumstat.map((function(e){return e.value.y})))),xMaxVal=xVals.reduce((function(e,t){return e>t?e:t})),xMinVal=xVals.reduce((function(e,t){return e<t?e:t})),yMaxVal=yVals.reduce((function(e,t){return e>t?e:t})),yMinVal=yVals.reduce((function(e,t){return e<t?e:t})),vals=[xMaxVal,xMinVal,yMaxVal,yMinVal];vals.map((function(e){e=Math.round(100*e)/100})),this.x=d3__WEBPACK_IMPORTED_MODULE_31__["g"]().domain([xMinVal-.05*xMaxVal,xMaxVal+.05*xMaxVal]).range([margin.left,width+margin.left]),this.y=d3__WEBPACK_IMPORTED_MODULE_31__["g"]().domain([yMinVal-.05*yMaxVal,yMaxVal+.05*yMaxVal]).range([height+margin.top,margin.top]),this.svg.attr("transform","translate(0,0)").append("g").attr("id","axisGroup"),this.svg.select("#axisGroup").append("g").attr("transform",(function(e){return"translate("+(margin.left-margin.bump)+",0)"})).call(d3__WEBPACK_IMPORTED_MODULE_31__["b"](this.y)).selectAll("text").style("font-size",this.fontSize),this.svg.select("#axisGroup").append("g").attr("transform",(function(e){return"translate(0,"+(height+margin.top+margin.bump)+")"})).call(d3__WEBPACK_IMPORTED_MODULE_31__["a"](this.x)).selectAll("text").style("font-size",this.fontSize),renderConfig["x condition"]&&(renderConfig["x condition"]["greater than"]&&this.svg.select("#axisGroup").append("line").attr("style","stroke-dasharray: 3,3").attr("x1",this.x(renderConfig["x condition"]["greater than"])).attr("y1",margin.top).attr("x2",this.x(renderConfig["x condition"]["greater than"])).attr("y2",margin.top+height).attr("stroke","#cccccc").style("stroke-width",1),renderConfig["x condition"]["lower than"]&&this.svg.select("#axisGroup").append("line").attr("style","stroke-dasharray: 3,3").attr("x1",this.x(renderConfig["x condition"]["lower than"])).attr("y1",margin.top).attr("x2",this.x(renderConfig["x condition"]["lower than"])).attr("y2",margin.top+height).attr("stroke","#cccccc").style("stroke-width",1)),renderConfig["y condition"]&&(renderConfig["y condition"]["greater than"]&&this.svg.select("#axisGroup").append("line").attr("style","stroke-dasharray: 3,3").attr("x1",margin.left).attr("y1",this.y(renderConfig["y condition"]["greater than"])).attr("x2",margin.left+width).attr("y2",this.y(renderConfig["y condition"]["greater than"])).attr("stroke","#cccccc").style("stroke-width",1),renderConfig["y condition"]["lower than"]&&this.svg.select("#axisGroup").append("line").attr("style","stroke-dasharray: 3,3").attr("x1",margin.left).attr("y1",this.y(renderConfig["y condition"]["lower than"])).attr("x2",margin.left+width).attr("y2",this.y(renderConfig["y condition"]["lower than"])).attr("stroke","#cccccc").style("stroke-width",1)),sumstat.map((function(e){var t,_,r=0;if(renderConfig["x condition"]){var n=renderConfig["x condition"].combination;t=e.value.x,"greater than"==n&&t>renderConfig["x condition"]["greater than"]&&r++,"lower than"==n&&t<renderConfig["x condition"]["lower than"]&&r++,"and"==n&&t>renderConfig["x condition"]["greater than"]&&t<renderConfig["x condition"]["lower than"]&&r++,("or"==n&&t>renderConfig["x condition"]["greater than"]||t<renderConfig["x condition"]["lower than"])&&r++}if(renderConfig["y condition"]){var a=renderConfig["y condition"].combination,s=e.value.y;"greater than"==a&&s>renderConfig["y condition"]["greater than"]&&r++,"lower than"==a&&s<renderConfig["y condition"]["lower than"]&&r++,"and"==a&&s>renderConfig["y condition"]["greater than"]&&s<renderConfig["y condition"]["lower than"]&&r++,("or"==a&&s>renderConfig["y condition"]["greater than"]||s<renderConfig["y condition"]["lower than"])&&r++}switch(r){case 0:_="#00000050";break;case 1:_=renderConfig["dot label score"]>1?"#00000050":"#09910980";break;case 2:_=t>0?"#ff00c750":"#12bdfe50";break}_this.svg.select("#axisGroup").append("circle").attr("cx",_this.x(e.value.x)).attr("cy",_this.y(e.value.y)).attr("r",2).style("fill",_).attr("id",e.key).attr("class",_this.dataToClass(e.value))})),this.svg.selectAll("circle.dataCircle").on("mouseover",(function(e){return _this.hoverDot(e)})).on("mouseleave",(function(e){return _components_researchPortal_singleCellBrowser_mouseTooltip_js__WEBPACK_IMPORTED_MODULE_35__["a"].hide()})).on("click",(function(e){return _this.clickDot(e)}))},hoverDot:function(e){var t=d3__WEBPACK_IMPORTED_MODULE_31__["c"].target.id,_=this.classToData(d3__WEBPACK_IMPORTED_MODULE_31__["c"].target.classList),r=this.tpmFormatter(parseFloat(_[0])),n=this.tpmFormatter(parseFloat(_[1])),a="<strong>".concat(t,"</strong>");a=a.concat("<div>".concat(this.renderConfig["x axis label"],": ").concat(r,"</div>")),a=a.concat("<div>".concat(this.renderConfig["y axis label"],": ").concat(n,"</div>")),_components_researchPortal_singleCellBrowser_mouseTooltip_js__WEBPACK_IMPORTED_MODULE_35__["a"].show(a)},clickDot:function(e){var t=d3__WEBPACK_IMPORTED_MODULE_31__["c"].target.id;this.$emit("highlight",t)},highlightDot:function(e){var t=this;this.svg.select("#axisGroup").selectAll(".highlightCircle, .highlightLabel").remove();var _=this.geneMap.get(e),r={x:_[this.xAxisField],y:_[this.yAxisField]},n="".concat(this.dataToClass(r)," highlightCircle");this.svg.select("#axisGroup").append("circle").attr("cx",this.x(r.x)).attr("cy",this.y(r.y)).attr("r",6).style("fill","#0000C6").style("stroke","white").attr("id",e).attr("class",n).on("mouseover",(function(e){return t.hoverDot(e)})).on("mouseleave",(function(e){return _components_researchPortal_singleCellBrowser_mouseTooltip_js__WEBPACK_IMPORTED_MODULE_35__["a"].hide()})).on("click",(function(e){return t.clickDot(e)}));var a=this.x(r.x)-this.margin.left,s=(this.chartWidth,this.margin.left,"end"),o=-10;a<50&&(s="start",o=10),this.svg.select("#axisGroup").append("text").attr("text-anchor",s).attr("x",this.x(r.x)+o).attr("y",this.y(r.y)+4).attr("class","highlightLabel").style("font-family","Arial").style("font-size",10).style("text-shadow","1px 1px 1px white").text(e)},dataToClass:function(e){var t="valX_".concat(e.x).replaceAll(".","dot"),_="valY_".concat(e.y).replaceAll(".","dot");return"".concat(t," ").concat(_," dataCircle")},classToData:function(e){var t=e[0],_=e[1],r=new RegExp(/val[XY]_/);return t=t.replace(r,"").replace("dot","."),_=_.replace(r,"").replace("dot","."),[t,_]}}})}});